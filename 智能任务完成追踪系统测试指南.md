# æ™ºèƒ½ä»»åŠ¡å®Œæˆè¿½è¸ªç³»ç»Ÿ - æµ‹è¯•æŒ‡å—

## ğŸ“¦ æ‰“åŒ…çŠ¶æ€

âœ… **æ‰“åŒ…æˆåŠŸ**: `dist\GaiYa-v1.6.exe` (82MB)
âœ… **æ‰€æœ‰æ–°æ¨¡å—å·²åŒ…å«**:
- `gaiya.services.task_completion_scheduler` (è°ƒåº¦å™¨)
- `gaiya.services.task_inference_engine` (æ¨ç†å¼•æ“)
- `gaiya.services.user_behavior_model` (ç”¨æˆ·è¡Œä¸ºæ¨¡å‹)
- `gaiya.ui.task_review_window` (æ‰¹é‡ç¡®è®¤UI)
- `gaiya.utils.data_migration` (æ•°æ®è¿ç§»)

---

## ğŸ§ª æµ‹è¯•æµç¨‹

### 1. é¦–æ¬¡å¯åŠ¨æµ‹è¯• (æ•°æ®åˆå§‹åŒ–)

**ç›®æ ‡**: éªŒè¯æ•°æ®åº“è¡¨å’Œç”¨æˆ·è¡Œä¸ºæ¨¡å‹è‡ªåŠ¨åˆå§‹åŒ–

**æ­¥éª¤**:
1. è¿è¡Œ `dist\GaiYa-v1.6.exe`
2. æ£€æŸ¥æ—¥å¿—æ–‡ä»¶ `dist\gaiya.log`
3. æŸ¥æ‰¾ä»¥ä¸‹å…³é”®æ—¥å¿—:

```log
ä»»åŠ¡å®Œæˆè¿½è¸ªæ•°æ®è¿ç§»æˆåŠŸ
ç”¨æˆ·è¡Œä¸ºæ¨¡å‹åˆå§‹åŒ–æˆåŠŸ: dist\user_behavior_model.json
ä»»åŠ¡å®Œæˆæ¨ç†è°ƒåº¦å™¨å·²åˆå§‹åŒ–
```

**éªŒè¯ç‚¹**:
- âœ… åº”ç”¨æ­£å¸¸å¯åŠ¨,æ²¡æœ‰å´©æºƒ
- âœ… `dist\user_behavior_model.json` æ–‡ä»¶è¢«åˆ›å»º
- âœ… `gaiya.log` ä¸­æœ‰æ•°æ®è¿ç§»æˆåŠŸæ—¥å¿—
- âœ… æ•°æ®åº“æ–‡ä»¶ `dist\gaiya.db` åŒ…å« `task_completions` è¡¨

**æ•°æ®åº“éªŒè¯**:
```bash
sqlite3 dist\gaiya.db
sqlite> .schema task_completions
# åº”è¯¥æ˜¾ç¤º20ä¸ªå­—æ®µçš„è¡¨ç»“æ„
```

---

### 2. æ‰˜ç›˜èœå•æµ‹è¯•

**ç›®æ ‡**: éªŒè¯æ–°çš„èœå•é¡¹å­˜åœ¨ä¸”å¯ç‚¹å‡»

**æ­¥éª¤**:
1. åº”ç”¨å¯åŠ¨å,å³é”®ç‚¹å‡»ç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡
2. æŸ¥æ‰¾èœå•é¡¹: `âœ… ä»»åŠ¡å®Œæˆå›é¡¾`
3. ç‚¹å‡»è¯¥èœå•é¡¹

**é¢„æœŸç»“æœ**:
- âœ… èœå•é¡¹å­˜åœ¨
- âœ… ç‚¹å‡»åå¼¹å‡ºæ¶ˆæ¯æ¡†æç¤º: "ä»Šå¤©æš‚æ— ä»»åŠ¡å®Œæˆè®°å½•"
  (å› ä¸ºé¦–æ¬¡å¯åŠ¨,è¿˜æ²¡æœ‰æ¨ç†æ•°æ®)

---

### 3. é…ç½®æ–‡ä»¶æµ‹è¯•

**ç›®æ ‡**: éªŒè¯è°ƒåº¦å™¨é…ç½®å·²åŠ è½½

**æ­¥éª¤**:
1. æ‰“å¼€ `dist\config.json`
2. æŸ¥æ‰¾ `task_completion_scheduler` é…ç½®é¡¹

**éªŒè¯ç‚¹**:
```json
"task_completion_scheduler": {
    "enabled": true,
    "trigger_time": "21:00",
    "trigger_on_startup": false,
    "auto_confirm_threshold": 0
}
```

**è¯´æ˜**:
- `enabled: true` - è°ƒåº¦å™¨å·²å¯ç”¨
- `trigger_time: "21:00"` - æ¯æ™š9ç‚¹è§¦å‘æ¨ç†
- `trigger_on_startup: false` - å¯åŠ¨æ—¶ä¸æ¨ç†æ˜¨æ—¥æ•°æ®
- `auto_confirm_threshold: 0` - ä¸è‡ªåŠ¨ç¡®è®¤(éœ€è¦æ‰‹åŠ¨ç¡®è®¤æ‰€æœ‰ä»»åŠ¡)

---

### 4. æ¨¡æ‹Ÿæ¯æ—¥æ¨ç†æµ‹è¯• (å¯é€‰)

**ç›®æ ‡**: æ¨¡æ‹Ÿè°ƒåº¦å™¨åœ¨æ™šä¸Š9ç‚¹çš„è‡ªåŠ¨æ¨ç†

**æ–¹æ³•1: ä¿®æ”¹è§¦å‘æ—¶é—´**
1. å…³é—­åº”ç”¨
2. ä¿®æ”¹ `config.json` ä¸­ `trigger_time` ä¸ºå½“å‰æ—¶é—´+2åˆ†é’Ÿ
   ä¾‹å¦‚: å½“å‰21:30 â†’ è®¾ç½®ä¸º `"21:32"`
3. é‡å¯åº”ç”¨
4. ç­‰å¾…2åˆ†é’Ÿ

**æ–¹æ³•2: å¯ç”¨å¯åŠ¨æ¨ç†**
1. å…³é—­åº”ç”¨
2. ä¿®æ”¹ `config.json` ä¸­ `trigger_on_startup: true`
3. é‡å¯åº”ç”¨
4. ç«‹å³æ£€æŸ¥æ—¥å¿—

**é¢„æœŸæ—¥å¿—**:
```log
å¼€å§‹æ‰§è¡Œæ¯æ—¥æ¨ç†: YYYY-MM-DD
æ‰¾åˆ° X ä¸ªä»»åŠ¡,å¼€å§‹æ¨ç†...
æ¨ç†å®Œæˆ: X/X ä¸ªä»»åŠ¡
ä¿å­˜æ¨ç†ç»“æœ: X æ¡è®°å½•
å¾…ç¡®è®¤ä»»åŠ¡: X ä¸ª,è§¦å‘æ‰¹é‡ç¡®è®¤UI
```

**é¢„æœŸç»“æœ**:
- âœ… åº”å¼¹å‡º `TaskReviewWindow` æ‰¹é‡ç¡®è®¤çª—å£
- âœ… çª—å£æ˜¾ç¤ºæ‰€æœ‰ä»»åŠ¡å¡ç‰‡
- âœ… æ¯ä¸ªå¡ç‰‡æ˜¾ç¤º: ä»»åŠ¡åç§°ã€å®Œæˆåº¦æ»‘å—ã€å¿«æ·æŒ‰é’®(100%, 50%, 0%)

---

### 5. æ‰¹é‡ç¡®è®¤UIæµ‹è¯•

**ç›®æ ‡**: éªŒè¯ç”¨æˆ·å¯ä»¥ä¿®æ­£ä»»åŠ¡å®Œæˆåº¦å¹¶è§¦å‘å­¦ä¹ 

**å‰æ**: å·²æœ‰æ¨ç†æ•°æ®(å‚è€ƒæµ‹è¯•4)

**æ­¥éª¤**:
1. æ‰“å¼€æ‰¹é‡ç¡®è®¤çª—å£ (æ‰˜ç›˜èœå• â†’ `âœ… ä»»åŠ¡å®Œæˆå›é¡¾`)
2. æµ‹è¯•ç¬¬ä¸€ä¸ªä»»åŠ¡å¡ç‰‡:
   - æ‹–åŠ¨æ»‘å—ä¿®æ”¹å®Œæˆåº¦
   - ç‚¹å‡» `100%` å¿«æ·æŒ‰é’®
   - ç‚¹å‡» `å±•å¼€è¯¦æƒ…` æŸ¥çœ‹æ¨ç†ç»†èŠ‚
3. åœ¨å¤‡æ³¨æ¡†è¾“å…¥æ–‡å­—: "æµ‹è¯•ä¿®æ­£"
4. ç‚¹å‡»åº•éƒ¨ `å…¨éƒ¨ç¡®è®¤` æŒ‰é’®

**é¢„æœŸç»“æœ**:
- âœ… çª—å£å…³é—­
- âœ… æ—¥å¿—æ˜¾ç¤ºç¡®è®¤æˆåŠŸ:
```log
ç”¨æˆ·ç¡®è®¤ X ä¸ªä»»åŠ¡å®Œæˆè®°å½•
  - ä»»åŠ¡å (ä¿®æ­£: åŸ85% â†’ ç”¨æˆ·100%)
å­¦ä¹ åé¦ˆ: ä»»åŠ¡å - ä½ä¼° (+5%æƒé‡)
```

**æ•°æ®åº“éªŒè¯**:
```bash
sqlite3 dist\gaiya.db
sqlite> SELECT task_name, completion_percentage, user_confirmed, user_corrected
        FROM task_completions
        WHERE date = 'YYYY-MM-DD';
```

åº”è¯¥æ˜¾ç¤º:
- `user_confirmed = 1`
- `user_corrected = 1` (å¦‚æœä¿®æ”¹äº†å®Œæˆåº¦)
- `completion_percentage` = ç”¨æˆ·ä¿®æ”¹åçš„å€¼

---

### 6. å­¦ä¹ æœºåˆ¶æµ‹è¯•

**ç›®æ ‡**: éªŒè¯ç”¨æˆ·ä¿®æ­£å,æ¨¡å‹æƒé‡å·²è°ƒæ•´

**æ­¥éª¤**:
1. å®Œæˆæµ‹è¯•5 (ç¡®è®¤ä»»åŠ¡å¹¶ä¿®æ­£)
2. æ‰“å¼€ `dist\user_behavior_model.json`
3. æŸ¥æ‰¾å¯¹åº”ä»»åŠ¡çš„ `app_weights`

**éªŒè¯ç‚¹**:
```json
{
  "tasks": {
    "ä¸Šåˆå·¥ä½œ": {
      "task_type": "work",
      "learning_stats": {
        "total_corrections": 1,  // åº”è¯¥å¢åŠ 
        "accuracy_score": 0.95
      },
      "app_weights": {
        "Cursor.exe": 0.85,  // å¯èƒ½å·²è°ƒæ•´ (Â±0.05 æˆ– +0.02)
        ...
      }
    }
  }
}
```

**å­¦ä¹ è§„åˆ™**:
- **ä½ä¼°** (AI<ç”¨æˆ·): æƒé‡ +0.05
- **é«˜ä¼°** (AI>ç”¨æˆ·): æƒé‡ -0.05
- **å‡†ç¡®** (è¯¯å·®<10%): æƒé‡ +0.02

---

### 7. å¤šæ—¥æ•°æ®æµ‹è¯•

**ç›®æ ‡**: éªŒè¯30å¤©æ•°æ®ä¿ç•™å’Œæ¨¡å‹æŒç»­å­¦ä¹ 

**æ­¥éª¤**:
1. è¿ç»­å¤šå¤©ä½¿ç”¨åº”ç”¨
2. æ¯å¤©æ™šä¸Š9ç‚¹è§¦å‘æ¨ç†
3. æ‰‹åŠ¨ç¡®è®¤ä»»åŠ¡å®Œæˆåº¦

**éªŒè¯ç‚¹**:
- âœ… æ•°æ®åº“ä¿ç•™æœ€è¿‘30å¤©æ•°æ®
- âœ… `user_behavior_model.json` ä¸­ `learning_stats` æŒç»­æ›´æ–°
- âœ… AIæ¨ç†å‡†ç¡®åº¦é€æ¸æé«˜

**é•¿æœŸæµ‹è¯•æŸ¥è¯¢**:
```sql
-- æŸ¥çœ‹æœ€è¿‘7å¤©çš„å­¦ä¹ è¶‹åŠ¿
SELECT
  date,
  COUNT(*) as task_count,
  AVG(completion_percentage) as avg_completion,
  SUM(CASE WHEN user_corrected = 1 THEN 1 ELSE 0 END) as correction_count
FROM task_completions
WHERE date >= date('now', '-7 days')
GROUP BY date
ORDER BY date DESC;
```

---

## ğŸ› å·²çŸ¥é—®é¢˜

### 1. æµ‹è¯•éš”ç¦»é—®é¢˜
**é—®é¢˜**: 2ä¸ªå•å…ƒæµ‹è¯•åœ¨æ‰¹é‡è¿è¡Œæ—¶å¤±è´¥,å•ç‹¬è¿è¡Œé€šè¿‡
**å½±å“**: ä»…å½±å“å¼€å‘æµ‹è¯•,ä¸å½±å“exeåŠŸèƒ½
**æµ‹è¯•**: `test_learn_from_correction_underestimated`, `test_learning_quality_tracking`

---

## ğŸ“Š æµ‹è¯•æ£€æŸ¥æ¸…å•

### åŸºç¡€åŠŸèƒ½
- [ ] åº”ç”¨æ­£å¸¸å¯åŠ¨,æ²¡æœ‰å´©æºƒ
- [ ] æ•°æ®è¿ç§»è‡ªåŠ¨æ‰§è¡ŒæˆåŠŸ
- [ ] `user_behavior_model.json` è‡ªåŠ¨åˆ›å»º
- [ ] `task_completions` è¡¨å·²åˆ›å»º

### è°ƒåº¦å™¨åŠŸèƒ½
- [ ] æ‰˜ç›˜èœå•æ˜¾ç¤º `âœ… ä»»åŠ¡å®Œæˆå›é¡¾` å…¥å£
- [ ] é…ç½®æ–‡ä»¶åŒ…å« `task_completion_scheduler` é…ç½®
- [ ] æ™šä¸Š9ç‚¹è‡ªåŠ¨è§¦å‘æ¨ç† (æˆ–æ‰‹åŠ¨æµ‹è¯•)
- [ ] è°ƒåº¦å™¨æ—¥å¿—æ­£å¸¸

### æ¨ç†å¼•æ“
- [ ] æ¨ç†å¼•æ“æˆåŠŸæ”¶é›†ä¸“æ³¨ä¼šè¯ä¿¡å·
- [ ] æ¨ç†å¼•æ“æˆåŠŸæ”¶é›†åº”ç”¨ä½¿ç”¨ä¿¡å·
- [ ] æ¨ç†å¼•æ“æˆåŠŸè®¡ç®—å®Œæˆåº¦
- [ ] æ¨ç†å¼•æ“æˆåŠŸè¯„ä¼°ç½®ä¿¡åº¦

### æ‰¹é‡ç¡®è®¤UI
- [ ] `TaskReviewWindow` çª—å£æ­£å¸¸æ˜¾ç¤º
- [ ] ä»»åŠ¡å¡ç‰‡æ˜¾ç¤ºå®Œæ•´ä¿¡æ¯
- [ ] æ»‘å—å¯ä»¥æ‹–åŠ¨ä¿®æ”¹å®Œæˆåº¦
- [ ] å¿«æ·æŒ‰é’® (100%, 50%, 0%) æ­£å¸¸å·¥ä½œ
- [ ] `å±•å¼€è¯¦æƒ…` æ˜¾ç¤ºæ¨ç†ç»†èŠ‚
- [ ] å¤‡æ³¨æ¡†å¯ä»¥è¾“å…¥æ–‡å­—
- [ ] `å…¨éƒ¨ç¡®è®¤` æŒ‰é’®æäº¤æ•°æ®

### å­¦ä¹ æœºåˆ¶
- [ ] ç”¨æˆ·ä¿®æ­£åè§¦å‘å­¦ä¹ 
- [ ] `user_behavior_model.json` æƒé‡å·²è°ƒæ•´
- [ ] `learning_stats` ç»Ÿè®¡å·²æ›´æ–°
- [ ] æ•°æ®åº“ `user_confirmed` å’Œ `user_corrected` æ­£ç¡®æ ‡è®°

---

## ğŸ”§ è°ƒè¯•æŠ€å·§

### æŸ¥çœ‹æ—¥å¿—
```bash
tail -f dist\gaiya.log
```

### æŸ¥çœ‹æ•°æ®åº“
```bash
sqlite3 dist\gaiya.db
sqlite> .tables
sqlite> SELECT * FROM task_completions;
sqlite> .quit
```

### æŸ¥çœ‹ç”¨æˆ·æ¨¡å‹
```bash
cat dist\user_behavior_model.json | jq .
# æˆ–è€…ç›´æ¥æ‰“å¼€ç¼–è¾‘å™¨æŸ¥çœ‹
```

### è§¦å‘è°ƒè¯•æ¨¡å¼
ä¿®æ”¹ `config.json` å¯ç”¨è¯¦ç»†æ—¥å¿—:
```json
{
  "task_completion_scheduler": {
    "enabled": true,
    "trigger_time": "21:00",
    "trigger_on_startup": true,  // å¯åŠ¨æ—¶ç«‹å³æ¨ç†
    "auto_confirm_threshold": 0
  }
}
```

---

## ğŸ“ æµ‹è¯•æŠ¥å‘Šæ¨¡æ¿

æµ‹è¯•æ—¥æœŸ: ____________
æµ‹è¯•äººå‘˜: ____________
åº”ç”¨ç‰ˆæœ¬: GaiYa v1.6

| æµ‹è¯•é¡¹ | ç»“æœ | å¤‡æ³¨ |
|--------|------|------|
| é¦–æ¬¡å¯åŠ¨ | â˜ é€šè¿‡ â˜ å¤±è´¥ | |
| æ•°æ®åˆå§‹åŒ– | â˜ é€šè¿‡ â˜ å¤±è´¥ | |
| æ‰˜ç›˜èœå• | â˜ é€šè¿‡ â˜ å¤±è´¥ | |
| æ¯æ—¥æ¨ç† | â˜ é€šè¿‡ â˜ å¤±è´¥ | |
| æ‰¹é‡ç¡®è®¤UI | â˜ é€šè¿‡ â˜ å¤±è´¥ | |
| å­¦ä¹ æœºåˆ¶ | â˜ é€šè¿‡ â˜ å¤±è´¥ | |

**é—®é¢˜è®°å½•**:
1. _______________________________________________
2. _______________________________________________

**æ”¹è¿›å»ºè®®**:
1. _______________________________________________
2. _______________________________________________

---

## ğŸ“„ ç›¸å…³æ–‡æ¡£

- [ä»»åŠ¡å®Œæˆæ¨ç†å¼•æ“è¯´æ˜](gaiya/services/task_inference_engine.py)
- [ç”¨æˆ·è¡Œä¸ºæ¨¡å‹è¯´æ˜](gaiya/services/user_behavior_model.py)
- [è°ƒåº¦å™¨é…ç½®](gaiya/services/task_completion_scheduler.py)
- [æ•°æ®è¿ç§»è„šæœ¬](scripts/init_task_tracking.py)

---

**æœ€åæ›´æ–°**: 2025-12-01
**æµ‹è¯•ç‰ˆæœ¬**: GaiYa v1.6 (æ™ºèƒ½ä»»åŠ¡å®Œæˆè¿½è¸ªç³»ç»Ÿ)
